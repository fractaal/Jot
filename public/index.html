<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Budgeting App</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=Space+Grotesk:wght@600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="app-shell">
      <header class="top-block card">
        <div class="month-row">
          <p id="month-label" class="month-label">This month</p>
          <p id="budget-state" class="budget-state">Budget ₱15,000.00</p>
        </div>

        <div class="top-main">
          <div>
            <p class="section-label">Spent</p>
            <h1 id="month-total" class="month-total">₱0.00</h1>
          </div>

          <div class="ring-wrap" aria-label="Monthly spend progress">
            <svg width="104" height="104" viewBox="0 0 104 104">
              <circle cx="52" cy="52" r="42" class="ring-track" />
              <circle id="ring-progress" cx="52" cy="52" r="42" class="ring-progress" />
            </svg>
            <div class="ring-center">
              <span id="ring-percent">0%</span>
            </div>
          </div>
        </div>
      </header>

      <section class="quick-card card">
        <form id="quick-add-form" class="quick-form">
          <textarea id="quick-add-input" name="text" rows="2" placeholder="Type expense… e.g. GrabFood 289 dinner" required></textarea>
          <div class="quick-actions">
            <button id="quick-submit" type="submit">Log</button>
            <button id="quick-undo" type="button" class="ghost hidden">Undo</button>
          </div>
        </form>

        <div id="quick-processing" class="processing hidden" role="status" aria-live="polite">
          <div class="spinner"></div>
          <p id="quick-processing-text" class="processing-text"></p>
        </div>

        <p id="quick-result" class="quick-result hidden"></p>
      </section>

      <nav class="tabs" aria-label="Views">
        <button type="button" class="tab-btn active" data-view="home">Transactions</button>
        <button type="button" class="tab-btn" data-view="insights">Insights</button>
      </nav>

      <section id="home-view" class="view active">
        <div class="card tx-panel">
          <ul id="transactions-list" class="tx-list"></ul>
        </div>
      </section>

      <section id="insights-view" class="view hidden">
        <div class="card insight-panel">
          <div id="category-breakdown" class="breakdown-list"></div>
        </div>
      </section>

      <section class="card manual-panel">
        <details id="manual-shell">
          <summary>Manual entry</summary>

          <h2 id="manual-form-title">Add transaction</h2>
          <form id="manual-form" class="manual-form">
            <input type="hidden" name="id" />

            <label>
              Date
              <input type="date" name="date" required />
            </label>

            <label>
              Amount
              <input type="number" name="amount" min="0.01" step="0.01" required />
            </label>

            <label>
              Currency
              <input type="text" name="currency" value="PHP" required />
            </label>

            <label>
              Category
              <select name="category" required></select>
            </label>

            <label>
              Account
              <input type="text" name="account" value="General" required />
            </label>

            <label class="full">
              Merchant
              <input type="text" name="merchant" required />
            </label>

            <label class="full">
              Note
              <input type="text" name="note" />
            </label>

            <div class="manual-actions">
              <button type="submit" id="manual-submit">Save</button>
              <button type="button" id="manual-cancel" class="ghost hidden">Cancel</button>
            </div>
          </form>
        </details>
      </section>

      <p id="status" class="status" role="status" aria-live="polite"></p>
    </main>

    <script src="/app.js" defer></script>
  </body>
</html>
